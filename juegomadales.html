<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Memorama de señas</title>
  <style>
    :root{--bg:#f3f6fb;--card:#ffffff;--accent:#4caf50}
    body{font-family:Inter,system-ui,Arial;margin:0;background:var(--bg);display:flex;align-items:center;justify-content:center;min-height:100vh}
    .container{width:920px;max-width:95%;padding:20px}
    h1{text-align:center;margin:0 0 12px}
    .controls{display:flex;gap:8px;justify-content:center;margin-bottom:12px}
    button{padding:8px 12px;border-radius:8px;border:0;background:var(--accent);color:#fff;cursor:pointer}
    .board{display:grid;grid-template-columns:repeat(5,1fr);gap:12px}
    .card{background:var(--card);border-radius:12px;height:140px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 8px rgba(0,0,0,.08);position:relative;cursor:pointer;transform-style:preserve-3d;transition:transform .45s}
    .card.flip{transform:rotateY(180deg)}
    .face{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;border-radius:12px;backface-visibility:hidden;overflow:hidden}
    .front{background:linear-gradient(135deg,#e6f7ea,#e8f8f0);}
    .back{transform:rotateY(180deg);background:#fff}
    .face img{max-width:100%;max-height:100%;object-fit:contain}
    .stats{margin-top:12px;text-align:center}
    .small{font-size:14px;color:#333}
    @media (max-width:600px){.board{grid-template-columns:repeat(2,1fr)}.card{height:120px}}
  </style>
</head>
<body>
  <div class="container">
    <h1>Memorama — Señas</h1>
    <div class="controls">
      <button id="restart">Reiniciar / Barajar</button>
      <button id="showAll">Mostrar todas</button>
    </div>
    <div class="board" id="board" aria-live="polite"></div>
    <div class="stats">
      <div class="small">Intentos: <span id="tries">0</span> — Pares encontrados: <span id="found">0</span>/5</div>
    </div>
  </div>

  <script>
    // Lista de imágenes (guarda el html junto a las imágenes proporcionadas)
    const images = [
      '/mnt/data/abrir.jpg',
      '/mnt/data/adios señas.jpg',
      '/mnt/data/adios.jpg',
      '/mnt/data/asiento señas.jpg',
      '/mnt/data/ayud señas.jpg'
    ];

    // Crea el mazo duplicando cada imagen (pares)
    function createDeck(){
      const deck = [];
      images.forEach((src, i)=>{
        deck.push({id: i, src});
        deck.push({id: i, src});
      });
      return shuffle(deck);
    }

    function shuffle(array){
      for(let i=array.length-1;i>0;i--){
        const j=Math.floor(Math.random()*(i+1));
        [array[i],array[j]]=[array[j],array[i]];
      }
      return array;
    }

    const board = document.getElementById('board');
    const triesEl = document.getElementById('tries');
    const foundEl = document.getElementById('found');
    const restartBtn = document.getElementById('restart');
    const showAllBtn = document.getElementById('showAll');

    let deck = [];
    let firstCard = null;
    let secondCard = null;
    let lock = false;
    let tries = 0;
    let found = 0;

    function buildBoard(){
      board.innerHTML = '';
      deck = createDeck();
      deck.forEach((cardData, index)=>{
        const card = document.createElement('div');
        card.className = 'card';
        card.dataset.index = index;
        card.dataset.id = cardData.id;

        const front = document.createElement('div'); front.className='face front';
        front.innerHTML = '<img src="/mnt/data/abrir.jpg" alt="reverso">';

        const back = document.createElement('div'); back.className='face back';
        const img = document.createElement('img'); img.src = cardData.src; img.alt='seña';
        back.appendChild(img);

        card.appendChild(front); card.appendChild(back);

        card.addEventListener('click', ()=>flipCard(card));
        board.appendChild(card);
      });
      tries = 0; found = 0; updateStats();
    }

    function flipCard(card){
      if(lock) return;
      if(card.classList.contains('matched') || card.classList.contains('flip')) return;
      card.classList.add('flip');

      if(!firstCard){ firstCard = card; return; }
      secondCard = card;
      lock = true;
      tries++;
      updateStats();

      const id1 = firstCard.dataset.id;
      const id2 = secondCard.dataset.id;

      if(id1 === id2){
        // match
        firstCard.classList.add('matched');
        secondCard.classList.add('matched');
        found++;
        setTimeout(()=>{
          firstCard=null; secondCard=null; lock=false; updateStats();
          if(found === images.length){
            setTimeout(()=>alert('¡Felicidades! encontraste todos los pares en '+tries+' intentos.'),200);
          }
        },400);
      }else{
        // no match
        setTimeout(()=>{
          firstCard.classList.remove('flip');
          secondCard.classList.remove('flip');
          firstCard=null; secondCard=null; lock=false;
        },800);
      }
    }

    function updateStats(){
      triesEl.textContent = tries;
      foundEl.textContent = found;
    }

    restartBtn.addEventListener('click', buildBoard);
    showAllBtn.addEventListener('click', ()=>{
      document.querySelectorAll('.card').forEach(c=>c.classList.add('flip'));
      setTimeout(()=>document.querySelectorAll('.card').forEach(c=>c.classList.remove('flip')),
                 1500);
    });

    // Inicializa
    buildBoard();
  </script>
</body>
</html>
